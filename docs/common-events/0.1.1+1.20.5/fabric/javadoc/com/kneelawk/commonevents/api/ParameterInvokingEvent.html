<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>ParameterInvokingEvent (fabric 0.1.1+1.20.5 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.kneelawk.commonevents.api, annotation type: ParameterInvokingEvent">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li>Required</li>
<li>Optional</li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Element</li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.kneelawk.commonevents.api</a></div>
<h1 title="Annotation Interface ParameterInvokingEvent" class="title">Annotation Interface ParameterInvokingEvent</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#CLASS" title="class or interface in java.lang.annotation" class="external-link">CLASS</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>({<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#FIELD" title="class or interface in java.lang.annotation" class="external-link">FIELD</a>,<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>})
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">ParameterInvokingEvent</span></div>
<div class="block">A marker interface that indicates an event stored in a field or returned by a method may invoke the event callback on
 one or more context objects passed in some method parameters.

 <p>The primary use of this annotation is for static analysis and documentation. When a field or method return value
 is annotated as a parameter invoking, you are encouraged to note in the documentation which context parameters may be
 invoked.

 <p>Event implementations may have an undefined order in which the parameters may be invoked, see the documentation of
 the event for specific invocation order.

 <p>For the examples below, we will be using an event where the callback type is the interface
 <code>ScaryEvents.Spooked</code>. <code>Spooked</code> is a functional interface where the first parameter is a ghost and the
 second parameter is the entity being spooked. The entity being spooked is the invoking parameter.

 <h2 id="why-make-an-event-parameter-invoking--heading">Why make an event parameter invoking?</h2>
 <p>
 A good reason to make an event parameter invoking is when the event directly relates to an action performed on a
 specific object. For example, an entity being unloaded from a world. With a traditional event, you would register a
 callback and check for your specific entity in the callback, typically via an <code>instanceof</code> check for modded
 entities. With a parameter invoking event, if you directly control the object the action is being performed on such
 as the object being one of your own modded entities, you can implement the callback interface, <code>T</code>, and have
 the event execute the callback on your own object, removing the need to find your specific entity through further
 checks.

 <p>Assuming <code>ScaryEvents.SPOOKED</code>'s callback interface is <code>Spooked</code> and the event is parameter invoking,
 you may implement <code>ScaryEvents.Spooked</code> directly on to your Entity to be notified that when your entity is
 spooked.

 <pre><code>
 class MyEntity extends MobEntity implements ScaryEvents.Spooked {
     ...

     @Override
     public void spooked(Ghost ghost, Entity ignored) {
         // This method will be invoked when the event, `ScaryEvents.SPOOKED` is executed and the invokable parameter
         // is instanceof MyEntity

         // My entity is very scared of ghosts, hence it should die when spooked.
         this.setHealth(0);
     }
 }
 </code></pre>

 <h2 id="how-to-use-this-annotation-heading">How to use this annotation</h2>
 <p>
 An event which may invoke a parameter should first place the annotation on the field of the event instance or the
 method which returns an event instance.

 <pre><code>
 @ParameterInvokingEvent
 public static final Event&lt;ScaryEvents.Spooked&gt; SPOOKED = Event.create(ScaryEvents.Spooked.class, callbacks -&gt; (ghost, spookedEntity) -&gt; {
     // Since this event is parameter invoking, does the entity being spooked implement `Spooked`?
     if (spookedEntity instanceof ScaryEvents.Spooked callback) {
         // Since the entity implements the callback, invoke the callback on the entity.
         // For this event we invoke on the parameter first, other events may do this differently.
         callback.spooked(ghost, spookedEntity);
     }

     for (var callback : callbacks) {
         // Invoke the callbacks implemented by this event
         callback.spooked(ghost, spookedEntity);
     }
 });
 </code></pre></div>
</section>
<section class="details" id="annotation-interface-element-detail"></section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
